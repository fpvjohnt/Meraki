{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1 class="mt-4 mb-4">Health Check Comparison Results</h1>
    <h2>Comparing checks from:</h2>
    <ul>
        <li>{{ check1.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</li>
        <li>{{ check2.timestamp.strftime('%Y-%m-

%d %H:%M:%S') }}</li>
    </ul>
    
    {% for network, checks in comparison.items() %}
    <h3>{{ network }}</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Check</th>
                <th>Status</th>
                <th>Old Value</th>
                <th>New Value</th>
            </tr>
        </thead>
        <tbody>
            {% for check, data in checks.items() %}
            <tr>
                <td>{{ check }}</td>
                <td>
                    {% if data.status == 'unchanged' %}
                    <span class="badge badge-secondary">Unchanged</span>
                    {% elif data.status == 'changed' %}
                    <span class="badge badge-warning">Changed</span>
                    {% elif data.status == 'added' %}
                    <span class="badge badge-success">Added</span>
                    {% elif data.status == 'removed' %}
                    <span class="badge badge-danger">Removed</span>
                    {% endif %}
                </td>
                <td>
                    {% if data.old_value is not none %}
                    {% if data.old_value %}
                    <span class="badge badge-success">OK</span>
                    {% else %}
                    <span class="badge badge-danger">Failed</span>
                    {% endif %}
                    {% else %}
                    N/A
                    {% endif %}
                </td>
                <td>
                    {% if data.new_value is not none %}
                    {% if data.new_value %}
                    <span class="badge badge-success">OK</span>
                    {% else %}
                    <span class="badge badge-danger">Failed</span>
                    {% endif %}
                    {% else %}
                    N/A
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endfor %}
</div>
{% endblock content %}